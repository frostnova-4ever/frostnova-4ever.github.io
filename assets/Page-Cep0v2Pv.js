import{_ as f,u as C,c as v,o as i,a as r,t as P,r as o,b as I,w as j,d as z,F as N,e as $,f as M,g as k,h as w}from"./index-BSip0udv.js";const B=["src"],L={class:"content-info"},H={__name:"Contents",props:{content:{type:Object,required:!0}},setup(l){const c=l,t=C();function a(){t.push(`/preview/${c.content.file}`)}return(p,n)=>(i(),v("div",{class:"content-card",onClick:a},[r("img",{src:l.content.image,alt:"Content Image",class:"content-image",loading:"lazy"},null,8,B),r("div",L,[r("h3",null,P(l.content.file),1),n[0]||(n[0]=r("p",null,"点击查看 HTML 内容",-1))])]))}},T=f(H,[["__scopeId","data-v-3b8f65da"]]),q={__name:"Page",setup(l){const c=o(0),t=o(8),a=o(1),p=o([]),n=o({}),g=o([]),m=C(),d=k(),_=()=>{const e=(a.value-1)*t.value,u=e+t.value;p.value=g.value.slice(e,u).map((s,h)=>({id:Number(s),file:n.value[s],image:`/md/image/${n.value[s].replace(".html",".jpg")}`}))},b=e=>{t.value=e,m.push(`/page/1?itemsPerPage=${e}`),a.value=1},x=e=>{a.value=e,m.push(`/page/${e}?itemsPerPage=${t.value}`)};return I(async()=>{try{const e=await fetch("/md/list.json");n.value=await e.json(),g.value=Object.keys(n.value).sort((u,s)=>Number(u)-Number(s)),c.value=g.value.length,_(),console.log("✅ 成功获取 HTML 文件列表:",n.value)}catch(e){console.error("❌ 获取 HTML 文件列表失败:",e)}}),j(()=>{a.value=parseInt(d.params.page),t.value=parseInt(d.query.itemsPerPage)||8,_()}),(e,u)=>{const s=M("el-pagination");return i(),v("div",null,[r("h2",null,"Page "+P(a.value),1),(i(!0),v(N,null,$(p.value,(h,y)=>(i(),w(T,{key:y,content:h},null,8,["content"]))),128)),z(s,{onSizeChange:b,onCurrentChange:x,"current-page":a.value,"page-sizes":[8,16,24],"page-size":t.value,layout:"total, sizes, prev, pager, next, jumper",total:c.value},null,8,["current-page","page-size","total"])])}}},F=f(q,[["__scopeId","data-v-e89a1a69"]]);export{F as default};
