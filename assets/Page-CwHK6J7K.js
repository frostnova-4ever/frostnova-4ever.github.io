import{_ as f,u as C,c as v,o as i,a as l,t as P,r,b as y,w as I,d as j,e as z,f as $,F as M,g as k,h as w,i as B}from"./index-BRROROLj.js";const L=["src"],H={class:"content-info"},T={__name:"Contents",props:{content:{type:Object,required:!0}},setup(c){const u=c,t=C();function a(){t.push(`/preview/${u.content.file}`)}return(g,n)=>(i(),v("div",{class:"content-card",onClick:a},[l("img",{src:c.content.image,alt:"Content Image",class:"content-image",loading:"lazy"},null,8,L),l("div",H,[l("h3",null,P(c.content.file),1),n[0]||(n[0]=l("p",null,"点击查看 HTML 内容",-1))])]))}},q=f(T,[["__scopeId","data-v-3b8f65da"]]),E={__name:"Page",setup(c){const u=r(0),t=r(8),a=r(1),g=r([]),n=r({}),m=r([]),d=C(),o=z(),_=()=>{const e=(a.value-1)*t.value,p=e+t.value;g.value=m.value.slice(e,p).map((s,h)=>({id:Number(s),file:n.value[s],image:`/md/image/${n.value[s].replace(".html",".jpg")}`}))},b=e=>{t.value=e,d.push(`/page/1?itemsPerPage=${e}`),a.value=1},N=e=>{a.value=e,d.push(`/page/${e}?itemsPerPage=${t.value}`)};return y(async()=>{try{const e=await fetch("/md/list.json");n.value=await e.json(),m.value=Object.keys(n.value).sort((p,s)=>Number(p)-Number(s)),u.value=m.value.length,_(),console.log("✅ 成功获取 HTML 文件列表:",n.value)}catch(e){console.error("❌ 获取 HTML 文件列表失败:",e)}}),I(()=>{const e=parseInt(o.params.page);a.value=isNaN(e)?1:e,t.value=parseInt(o.query.itemsPerPage)||8,_()}),j(()=>{var e;return Number(o.params.page)||Number((e=o==null?void 0:o.props)==null?void 0:e.page)||1}),(e,p)=>{const s=w("el-pagination");return i(),v("div",null,[l("h2",null,"Page "+P(a.value),1),(i(!0),v(M,null,k(g.value,(h,x)=>(i(),B(q,{key:x,content:h},null,8,["content"]))),128)),$(s,{onSizeChange:b,onCurrentChange:N,"current-page":a.value,"page-sizes":[8,16,24],"page-size":t.value,layout:"total, sizes, prev, pager, next, jumper",total:u.value},null,8,["current-page","page-size","total"])])}}},O=f(E,[["__scopeId","data-v-68370502"]]);export{O as default};
